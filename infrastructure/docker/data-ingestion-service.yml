# Add this to infrastructure/docker/docker-compose.yml
# After environment-service (around line 282)

  # Data Ingestion Service - Fetches real-time data from OpenWeatherMap
  data-ingestion-service:
    build:
      context: ../../modules/data-ingestion-service
      dockerfile: Dockerfile
    container_name: greenedumap-data-ingestion
    environment:
      OPENWEATHER_API_KEY: ${OPENWEATHER_API_KEY:-14beef0ff70a6296493bea7c2ef80cf8}
      DATABASE_URL: postgresql+asyncpg://${POSTGRES_USER:-postgres}:${POSTGRES_PASSWORD:-postgres}@postgres:5432/${POSTGRES_DB:-greenedumap}
      UPDATE_INTERVAL_MINUTES: ${UPDATE_INTERVAL_MINUTES:-3}
    depends_on:
      postgres:
        condition: service_healthy
    networks:
      - greenedumap-network
    restart: unless-stopped
