# GreenEduMap Environment Configuration
# Copy this file to .env and configure for your environment

# ================================
# PORTS CONFIGURATION (Changed to avoid conflicts with other projects)
# ================================
POSTGRES_PORT=5433        # Default: 5432 (changed to avoid CityResQ conflict)
REDIS_PORT=6380           # Default: 6379 (changed to avoid CityResQ conflict)
MONGO_PORT=27018          # Default: 27017 (changed to avoid CityResQ conflict)
RESOURCE_SERVICE_PORT=8012  # Default: 8004 (changed to avoid CityResQ conflict on port 8002)

# ================================
# DATABASE CONFIGURATION
# ================================
POSTGRES_DB=greenedumap
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# MongoDB
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=admin123

# ================================
# REDIS CONFIGURATION
# ================================
REDIS_PASSWORD=redis123

# ================================
# JWT CONFIGURATION
# ================================
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_ACCESS_TOKEN_EXPIRE=1800
JWT_REFRESH_TOKEN_EXPIRE=2592000

# ================================
# SERVICE HOSTS (Internal Docker Network)
# ================================
AUTH_SERVICE_URL=http://auth-service:8001
EDUCATION_SERVICE_URL=http://education-service:8008
ENVIRONMENT_SERVICE_URL=http://environment-service:8007
RESOURCE_SERVICE_URL=http://resource-service:8000

# ================================
# EXTERNAL ACCESS (Changed to avoid conflicts)
# ================================
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=10000     # Default: 8000 (changed to avoid CityResQ conflict)

WEB_APP_PORT=4000          # Default: 3000 (changed to avoid CityResQ conflict)

# Web App API URL (for production, use domain; for local, use localhost)
NEXT_PUBLIC_API_URL=https://api.greenedumap.io.vn  # For VPS: use domain, For local: http://localhost:10000

ADMINER_PORT=8081          # Default: 8080 (changed to avoid CityResQ conflict)

# ================================
# EXTERNAL APIs
# ================================
# OpenWeather API - Get free key at https://openweathermap.org/api
OPENWEATHER_API_KEY=30de77839a05db1dfe983c341a297838

# ================================
# ENVIRONMENT
# ================================
NODE_ENV=development
DEBUG=true

# ================================
# NOTES
# ================================
# - Default ports changed to avoid conflicts with CityResQ360:
#   PostgreSQL: 5432 -> 5433
#   Redis: 6379 -> 6380
#   MongoDB: 27017 -> 27018
#   API Gateway: 8000 -> 10000
#   Web App: 3000 -> 4000
#   Adminer: 8080 -> 8081
#   Resource Service: 8004 -> 8012 (to avoid conflict with CityResQ media-service on 8002)
# - Internal services (auth, education, environment) have NO external ports
#   They are only accessible via API Gateway on the internal Docker network
# - For production, change all passwords to secure random values
# - Generate JWT_SECRET with: openssl rand -base64 64
