(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[990],{19946:(e,t,a)=>{"use strict";a.d(t,{A:()=>h});var n=a(12115);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=(0,n.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:h,className:l="",children:u,iconNode:c,...d}=e;return(0,n.createElement)("svg",{ref:t,...o,width:r,height:r,stroke:a,strokeWidth:h?24*Number(s)/Number(r):s,className:i("lucide",l),...d},[...c.map(e=>{let[t,a]=e;return(0,n.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),h=(e,t)=>{let a=(0,n.forwardRef)((a,o)=>{let{className:h,...l}=a;return(0,n.createElement)(s,{ref:o,iconNode:t,className:i("lucide-".concat(r(e)),h),...l})});return a.displayName="".concat(e),a}},29692:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,6874,23)),Promise.resolve().then(a.bind(a,93141))},35695:(e,t,a)=>{"use strict";var n=a(18999);a.o(n,"usePathname")&&a.d(t,{usePathname:function(){return n.usePathname}}),a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}})},40283:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,O:()=>h});var n=a(95155),r=a(12115),i=a(35695);let o=(0,r.createContext)(void 0),s="http://localhost:8000";function h(e){let{children:t}=e,[a,h]=(0,r.useState)(null),[l,u]=(0,r.useState)(!0),c=(0,i.useRouter)();(0,r.useEffect)(()=>{let e=localStorage.getItem("accessToken");e?d(e):u(!1)},[]);let d=async e=>{try{let t=await fetch("".concat(s,"/api/v1/auth/me"),{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();h(e)}else localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}catch(e){console.error("Failed to fetch user:",e)}finally{u(!1)}},g=async(e,t)=>{let a=await fetch("".concat(s,"/api/v1/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!a.ok)throw Error((await a.json()).detail||"Login failed");let n=await a.json();localStorage.setItem("accessToken",n.access_token),localStorage.setItem("refreshToken",n.refresh_token),await d(n.access_token),c.push("/")},m=async(e,t,a,n)=>{let r=await fetch("".concat(s,"/api/v1/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:t,password:a,full_name:n,role:"citizen"})});if(!r.ok)throw Error((await r.json()).detail||"Registration failed");await g(t,a)},f=async()=>{let e=localStorage.getItem("accessToken");e&&await d(e)};return(0,n.jsx)(o.Provider,{value:{user:a,isAuthenticated:!!a,isLoading:l,login:g,register:m,logout:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken"),h(null),c.push("/auth/login")},refreshUser:f},children:t})}function l(){let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},71007:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});let n=(0,a(19946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},93141:(e,t,a)=>{"use strict";a.d(t,{default:()=>P});var n=a(95155),r=a(12115),i=a(71007),o=a(19946);let s=(0,o.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var h=a(92084),l=a(35476);function u(e,t){let a=(0,l.a)(e),n=(0,l.a)(t),r=a.getTime()-n.getTime();return r<0?-1:r>0?1:r}var c=a(41876),d=a(1306),g=a(36199),m=a(43461);let f={lessThanXSeconds:{one:"dưới 1 gi\xe2y",other:"dưới {{count}} gi\xe2y"},xSeconds:{one:"1 gi\xe2y",other:"{{count}} gi\xe2y"},halfAMinute:"nửa ph\xfat",lessThanXMinutes:{one:"dưới 1 ph\xfat",other:"dưới {{count}} ph\xfat"},xMinutes:{one:"1 ph\xfat",other:"{{count}} ph\xfat"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ng\xe0y",other:"{{count}} ng\xe0y"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 th\xe1ng",other:"khoảng {{count}} th\xe1ng"},xMonths:{one:"1 th\xe1ng",other:"{{count}} th\xe1ng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}};var v=a(67356);let b={date:(0,v.k)({formats:{full:"EEEE, 'ng\xe0y' d MMMM 'năm' y",long:"'ng\xe0y' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},defaultWidth:"full"}),time:(0,v.k)({formats:{full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},defaultWidth:"full"}),dateTime:(0,v.k)({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})},w={lastWeek:"eeee 'tuần trước v\xe0o l\xfac' p",yesterday:"'h\xf4m qua v\xe0o l\xfac' p",today:"'h\xf4m nay v\xe0o l\xfac' p",tomorrow:"'ng\xe0y mai v\xe0o l\xfac' p",nextWeek:"eeee 'tới v\xe0o l\xfac' p",other:"P"};var x=a(58698);let y={ordinalNumber:(e,t)=>{let a=Number(e),n=null==t?void 0:t.unit;if("quarter"===n)switch(a){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if("day"===n)switch(a){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else if("week"===n)return 1===a?"thứ nhất":"thứ "+a;else if("dayOfYear"===n)return 1===a?"đầu ti\xean":"thứ "+a;return String(a)},era:(0,x.o)({values:{narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước C\xf4ng Nguy\xean","sau C\xf4ng Nguy\xean"]},defaultWidth:"wide"}),quarter:(0,x.o)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Qu\xfd 1","Qu\xfd 2","Qu\xfd 3","Qu\xfd 4"]},defaultWidth:"wide",formattingValues:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["qu\xfd I","qu\xfd II","qu\xfd III","qu\xfd IV"]},defaultFormattingWidth:"wide",argumentCallback:e=>e-1}),month:(0,x.o)({values:{narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Th\xe1ng Một","Th\xe1ng Hai","Th\xe1ng Ba","Th\xe1ng Tư","Th\xe1ng Năm","Th\xe1ng S\xe1u","Th\xe1ng Bảy","Th\xe1ng T\xe1m","Th\xe1ng Ch\xedn","Th\xe1ng Mười","Th\xe1ng Mười Một","Th\xe1ng Mười Hai"]},defaultWidth:"wide",formattingValues:{narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["th\xe1ng 01","th\xe1ng 02","th\xe1ng 03","th\xe1ng 04","th\xe1ng 05","th\xe1ng 06","th\xe1ng 07","th\xe1ng 08","th\xe1ng 09","th\xe1ng 10","th\xe1ng 11","th\xe1ng 12"]},defaultFormattingWidth:"wide"}),day:(0,x.o)({values:{narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ S\xe1u","Thứ Bảy"]},defaultWidth:"wide"}),dayPeriod:(0,x.o)({values:{narrow:{am:"am",pm:"pm",midnight:"nửa đ\xeam",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đ\xeam"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đ\xeam",noon:"trưa",morning:"s\xe1ng",afternoon:"chiều",evening:"tối",night:"đ\xeam"},wide:{am:"SA",pm:"CH",midnight:"nửa đ\xeam",noon:"trưa",morning:"s\xe1ng",afternoon:"chiều",evening:"tối",night:"đ\xeam"}},defaultWidth:"wide",formattingValues:{narrow:{am:"am",pm:"pm",midnight:"nửa đ\xeam",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đ\xeam"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đ\xeam",noon:"trưa",morning:"s\xe1ng",afternoon:"chiều",evening:"tối",night:"đ\xeam"},wide:{am:"SA",pm:"CH",midnight:"nửa đ\xeam",noon:"giữa trưa",morning:"v\xe0o buổi s\xe1ng",afternoon:"v\xe0o buổi chiều",evening:"v\xe0o buổi tối",night:"v\xe0o ban đ\xeam"}},defaultFormattingWidth:"wide"})};var p=a(44008);let T={code:"vi",formatDistance:(e,t,a)=>{let n;let r=f[e];return(n="string"==typeof r?r:1===t?r.one:r.other.replace("{{count}}",String(t)),null==a?void 0:a.addSuffix)?a.comparison&&a.comparison>0?n+" nữa":n+" trước":n},formatLong:b,formatRelative:(e,t,a,n)=>w[e],localize:y,match:{ordinalNumber:(0,a(40972).K)({matchPattern:/^(\d+)/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:(0,p.A)({matchPatterns:{narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^t/i,/^s/i]},defaultParseWidth:"any"}),quarter:(0,p.A)({matchPatterns:{narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:(0,p.A)({matchPatterns:{narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},defaultParseWidth:"wide"}),day:(0,p.A)({matchPatterns:{narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},defaultParseWidth:"wide"}),dayPeriod:(0,p.A)({matchPatterns:{narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},defaultMatchWidth:"wide",parsePatterns:{any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:1}};function N(e){let{reviews:t}=e;return t&&0!==t.length?(0,n.jsx)("div",{className:"space-y-4",children:t.map(e=>{var t;return(0,n.jsxs)("div",{className:"bg-white p-4 rounded-xl border border-gray-100 shadow-sm",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center text-green-600",children:(0,n.jsx)(i.A,{className:"w-4 h-4"})}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"font-bold text-sm text-gray-900",children:e.user_name}),(0,n.jsx)("span",{className:"text-xs text-gray-500",children:function(e,t,a){var n,r;let i,o,s;let h=(0,g.q)(),f=null!==(r=null!==(n=null==a?void 0:a.locale)&&void 0!==n?n:h.locale)&&void 0!==r?r:d.c,v=u(e,t);if(isNaN(v))throw RangeError("Invalid time value");let b=Object.assign({},a,{addSuffix:null==a?void 0:a.addSuffix,comparison:v});v>0?(i=(0,l.a)(t),o=(0,l.a)(e)):(i=(0,l.a)(e),o=(0,l.a)(t));let w=function(e,t,a){var n;let r=(+(0,l.a)(e)-+(0,l.a)(t))/1e3;return(n=null==void 0?void 0:(void 0).roundingMethod,e=>{let t=(n?Math[n]:Math.trunc)(e);return 0===t?0:t})(r)}(o,i),x=Math.round((w-((0,m.G)(o)-(0,m.G)(i))/1e3)/60);if(x<2){if(null==a?void 0:a.includeSeconds){if(w<5)return f.formatDistance("lessThanXSeconds",5,b);if(w<10)return f.formatDistance("lessThanXSeconds",10,b);if(w<20)return f.formatDistance("lessThanXSeconds",20,b);else if(w<40)return f.formatDistance("halfAMinute",0,b);else if(w<60)return f.formatDistance("lessThanXMinutes",1,b);else return f.formatDistance("xMinutes",1,b)}return 0===x?f.formatDistance("lessThanXMinutes",1,b):f.formatDistance("xMinutes",x,b)}if(x<45)return f.formatDistance("xMinutes",x,b);if(x<90)return f.formatDistance("aboutXHours",1,b);if(x<c.F6){let e=Math.round(x/60);return f.formatDistance("aboutXHours",e,b)}if(x<2520)return f.formatDistance("xDays",1,b);else if(x<c.Nw){let e=Math.round(x/c.F6);return f.formatDistance("xDays",e,b)}else if(x<2*c.Nw)return s=Math.round(x/c.Nw),f.formatDistance("aboutXMonths",s,b);if((s=function(e,t){let a;let n=(0,l.a)(e),r=(0,l.a)(t),i=u(n,r),o=Math.abs(function(e,t){let a=(0,l.a)(e),n=(0,l.a)(t);return 12*(a.getFullYear()-n.getFullYear())+(a.getMonth()-n.getMonth())}(n,r));if(o<1)a=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*o);let t=u(n,r)===-i;(function(e){let t=(0,l.a)(e);return+function(e){let t=(0,l.a)(e);return t.setHours(23,59,59,999),t}(t)==+function(e){let t=(0,l.a)(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}(t)})((0,l.a)(e))&&1===o&&1===u(e,r)&&(t=!1),a=i*(o-Number(t))}return 0===a?0:a}(o,i))<12){let e=Math.round(x/c.Nw);return f.formatDistance("xMonths",e,b)}{let e=s%12,t=Math.trunc(s/12);return e<3?f.formatDistance("aboutXYears",t,b):e<9?f.formatDistance("overXYears",t,b):f.formatDistance("almostXYears",t+1,b)}}(t=new Date(e.created_at),(0,h.w)(t,Date.now()),{addSuffix:!0,locale:T})})]})]}),(0,n.jsx)("div",{className:"flex",children:[void 0,void 0,void 0,void 0,void 0].map((t,a)=>(0,n.jsx)(s,{className:"w-4 h-4 ".concat(a<e.rating?"text-yellow-400 fill-yellow-400":"text-gray-200")},a))})]}),(0,n.jsx)("p",{className:"text-gray-700 text-sm",children:e.comment})]},e.id)})}):(0,n.jsx)("div",{className:"text-center py-8 text-gray-500 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:(0,n.jsx)("p",{children:"Chưa c\xf3 đ\xe1nh gi\xe1 n\xe0o. H\xe3y l\xe0 người đầu ti\xean!"})})}let M=(0,o.A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);var k=a(40283),j=a(6874),C=a.n(j);function S(e){let{schoolId:t,onReviewSubmitted:a}=e,{user:i,isAuthenticated:o}=(0,k.A)(),[h,l]=(0,r.useState)(5),[u,c]=(0,r.useState)(""),[d,g]=(0,r.useState)(""),[m,f]=(0,r.useState)(!1),[v,b]=(0,r.useState)("");(0,r.useEffect)(()=>{o&&i&&g(i.full_name||i.username)},[o,i]);let w=async e=>{if(e.preventDefault(),f(!0),b(""),!d.trim()){b("Vui l\xf2ng nhập t\xean của bạn"),f(!1);return}try{let e=localStorage.getItem("accessToken"),n={"Content-Type":"application/json"};if(e&&(n.Authorization="Bearer ".concat(e)),!(await fetch("http://localhost:8000/api/v1/schools/".concat(t,"/reviews"),{method:"POST",headers:n,body:JSON.stringify({rating:h,comment:u,user_name:d})})).ok)throw Error("Failed to submit review");c(""),g(""),l(5),a()}catch(e){console.error(e),b("C\xf3 lỗi xảy ra khi gửi đ\xe1nh gi\xe1. Vui l\xf2ng thử lại.")}finally{f(!1)}};return(0,n.jsxs)("form",{onSubmit:w,className:"bg-white p-6 rounded-2xl border border-gray-100 shadow-sm",children:[(0,n.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Viết đ\xe1nh gi\xe1 của bạn"}),v&&(0,n.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-600 text-sm rounded-lg",children:v}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Đ\xe1nh gi\xe1"}),(0,n.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(e=>(0,n.jsx)("button",{type:"button",onClick:()=>l(e),className:"focus:outline-none transition-transform hover:scale-110",children:(0,n.jsx)(s,{className:"w-8 h-8 ".concat(e<=h?"text-yellow-400 fill-yellow-400":"text-gray-200")})},e))})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xean của bạn"}),!o&&(0,n.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:[(0,n.jsx)(C(),{href:"/auth/login",className:"text-green-600 hover:text-green-700 underline",children:"Đăng nhập"})," ","để tự động điền th\xf4ng tin"]}),(0,n.jsx)("input",{type:"text",value:d,onChange:e=>g(e.target.value),readOnly:o,className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none ".concat(o?"bg-gray-50 cursor-not-allowed":""),placeholder:"Nhập t\xean hiển thị...",required:!0})]}),(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nhận x\xe9t"}),(0,n.jsx)("textarea",{value:u,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none min-h-[100px]",placeholder:"Chia sẻ trải nghiệm của bạn về trường n\xe0y..."})]}),(0,n.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 transition-colors flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:m?(0,n.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(M,{className:"w-4 h-4"}),"Gửi đ\xe1nh gi\xe1"]})})]})}function P(e){let{schoolId:t,initialReviews:a}=e,[i,o]=(0,r.useState)(a),s=async()=>{try{let e=await fetch("http://localhost:8000/api/v1/schools/".concat(t,"/reviews"));if(e.ok){let t=await e.json();o(t)}}catch(e){console.error("Failed to refresh reviews:",e)}};return(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,n.jsxs)("div",{className:"lg:col-span-2",children:[(0,n.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:["Đ\xe1nh gi\xe1 từ cộng đồng (",i.length,")"]}),(0,n.jsx)(N,{reviews:i})]}),(0,n.jsx)("div",{children:(0,n.jsx)(S,{schoolId:t,onReviewSubmitted:s})})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,6460,8441,1684,7358],()=>t(29692)),_N_E=e.O()}]);