(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5295],{5040:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},17580:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},25731:(e,t,a)=>{"use strict";a.d(t,{F:()=>i});var s=a(49509);class r{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{showToast:s=!0,throwError:r=!1,headers:i={},...n}=t;try{let t;let l="".concat(this.baseUrl).concat(e),c=await fetch(l,{...n,headers:{"Content-Type":"application/json",...i}}),o=c.headers.get("content-type");if(t=(null==o?void 0:o.includes("application/json"))?await c.json():await c.text(),!c.ok){let e=(null==t?void 0:t.error)||(null==t?void 0:t.message)||"Request failed with status ".concat(c.status);if(s&&a.e(7451).then(a.bind(a,57451)).then(e=>{let{useToast:t}=e}),r)throw Error(e);return{data:null,error:e,status:c.status}}return t}catch(t){let e=t instanceof Error?t.message:"Network error";if(r)throw t;return{data:null,error:e,status:0}}}async get(e,t){return this.request(e,{...t,method:"GET"})}async post(e,t,a){return this.request(e,{...a,method:"POST",body:t?JSON.stringify(t):void 0})}async put(e,t,a){return this.request(e,{...a,method:"PUT",body:t?JSON.stringify(t):void 0})}async patch(e,t,a){return this.request(e,{...a,method:"PATCH",body:t?JSON.stringify(t):void 0})}async delete(e,t){return this.request(e,{...t,method:"DELETE"})}constructor(e=""){this.baseUrl=e}}let i=new r(s.env.NEXT_PUBLIC_API_URL||"http://localhost:8000")},33384:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]])},35695:(e,t,a)=>{"use strict";var s=a(18999);a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},47924:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},51160:(e,t,a)=>{Promise.resolve().then(a.bind(a,85022))},54224:(e,t,a)=>{"use strict";a.d(t,{HG:()=>l,P3:()=>i,P8:()=>n});var s=a(32960),r=a(25731);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(0,s.I)({queryKey:["schools",e,t],queryFn:async()=>await r.F.get("/api/v1/schools?skip=".concat(e,"&limit=").concat(t)),staleTime:6e5,retry:1})}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return(0,s.I)({queryKey:["top-green-schools",e],queryFn:async()=>await r.F.get("/api/v1/schools/top-green?limit=".concat(e)),staleTime:18e5})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(0,s.I)({queryKey:["green-courses",e,t],queryFn:async()=>await r.F.get("/api/v1/green-courses?skip=".concat(e,"&limit=").concat(t)),staleTime:6e5,retry:1})}},64690:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var s=a(95155),r=a(6874),i=a.n(r),n=a(12115),l=a(38274),c=a(35695);function o(){let[e,t]=(0,n.useState)(!1),a=(0,c.usePathname)();return(0,n.useEffect)(()=>{let e=()=>{t(window.scrollY>20)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,s.jsx)(l.P.nav,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 transition-all duration-500 ".concat(e||"/"!==a?"bg-white/80 dark:bg-gray-950/80 backdrop-blur-xl shadow-theme-lg border-b border-gray-200/50 dark:border-gray-800/50":"bg-transparent"),children:(0,s.jsx)("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[(0,s.jsx)(i(),{href:"/",className:"flex items-center gap-2",children:(0,s.jsx)(l.P.div,{whileHover:{scale:1.05},children:(0,s.jsx)("img",{src:"/images/logo/logo.svg",alt:"GreenEduMap Logo",className:"h-8 w-auto"})})}),(0,s.jsx)("div",{className:"hidden gap-8 md:flex",children:[{name:"Bản đồ",href:"/map"},{name:"H\xe0nh động xanh",href:"/actions"},{name:"Thống k\xea",href:"/stats"}].map((e,t)=>(0,s.jsxs)(l.P.a,{href:e.href,className:"text-sm font-medium transition-colors relative group ".concat(a===e.href?"text-success-600 dark:text-success-400":"text-gray-700 hover:text-success-600 dark:text-gray-300 dark:hover:text-success-400"),initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:[e.name,(0,s.jsx)("span",{className:"absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-success-500 to-success-600 transition-all ".concat(a===e.href?"w-full":"w-0 group-hover:w-full")})]},e.name))}),(0,s.jsxs)(l.P.div,{className:"flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:[(0,s.jsx)(i(),{href:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 transition-all rounded-lg hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800/50",children:"Đăng nhập"}),(0,s.jsx)(i(),{href:"/register",className:"px-4 py-2 text-sm font-medium text-white transition-all rounded-lg bg-gradient-to-r from-success-500 to-success-600 hover:shadow-lg hover:shadow-success-500/50 hover:scale-105",children:"Đăng k\xfd"})]})]})})})}},69074:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},71539:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},85022:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>j});var s=a(95155),r=a(12115),i=a(38274),n=a(71539),l=a(19946);let c=(0,l.A)("Recycle",[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]]),o=(0,l.A)("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);var d=a(97037),h=a(33384),g=a(47924);let x=(0,l.A)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var m=a(5040),y=a(87949);let u=(0,l.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var p=a(17580),v=a(69074),b=a(64690),k=a(54224);let f={Energy:n.A,Waste:c,Water:o,Biodiversity:d.A,General:h.A},w={Energy:"from-amber-500 to-orange-500",Waste:"from-green-500 to-emerald-500",Water:"from-blue-500 to-cyan-500",Biodiversity:"from-green-600 to-teal-600",General:"from-success-500 to-green-500"};function j(){let[e,t]=(0,r.useState)(""),[a,n]=(0,r.useState)(null),{data:l,isLoading:c}=(0,k.HG)(0,100),o=null==l?void 0:l.filter(t=>{var s;let r=t.title.toLowerCase().includes(e.toLowerCase())||(null===(s=t.description)||void 0===s?void 0:s.toLowerCase().includes(e.toLowerCase())),i=!a||t.category===a;return r&&i}),d=["Energy","Waste","Water","Biodiversity","General"];return(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[(0,s.jsx)(b.A,{}),(0,s.jsxs)("div",{className:"pt-24 pb-12 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto",children:[(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[(0,s.jsxs)("h1",{className:"text-5xl font-black text-gray-900 dark:text-white mb-4",children:["Kh\xf3a học"," ",(0,s.jsx)("span",{className:"bg-gradient-to-r from-success-600 to-green-500 bg-clip-text text-transparent",children:"M\xf4i trường"})]}),(0,s.jsx)("p",{className:"text-lg text-gray-600 dark:text-gray-400 max-w-2xl mx-auto",children:"Học tập v\xe0 h\xe0nh động v\xec một tương lai xanh, bền vững"})]}),(0,s.jsxs)("div",{className:"mb-8 space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(g.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"T\xecm kiếm kh\xf3a học...",value:e,onChange:e=>t(e.target.value),className:"w-full pl-12 pr-4 py-4 rounded-xl border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-success-500 focus:border-transparent transition-all"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 overflow-x-auto pb-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-semibold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:[(0,s.jsx)(x,{className:"w-4 h-4"}),"Danh mục:"]}),(0,s.jsx)("button",{onClick:()=>n(null),className:"px-4 py-2 rounded-lg text-sm font-semibold transition-all whitespace-nowrap ".concat(a?"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700":"bg-success-600 text-white"),children:"Tất cả"}),d.map(e=>{let t=f[e]||h.A;return(0,s.jsxs)("button",{onClick:()=>n(e),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all whitespace-nowrap ".concat(a===e?"bg-success-600 text-white":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[(0,s.jsx)(t,{className:"w-4 h-4"}),e]},e)})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[{label:"Tổng kh\xf3a học",value:(null==l?void 0:l.length)||0,icon:m.A,color:"from-purple-500 to-purple-600"},{label:"Đang hoạt động",value:(null==l?void 0:l.filter(e=>e.is_active).length)||0,icon:y.A,color:"from-success-500 to-green-500"},{label:"Danh mục",value:d.length,icon:h.A,color:"from-blue-500 to-cyan-500"}].map((e,t)=>(0,s.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"p-6 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"p-3 rounded-lg bg-gradient-to-br ".concat(e.color),children:(0,s.jsx)(e.icon,{className:"w-6 h-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"text-3xl font-black text-gray-900 dark:text-white",children:e.value}),(0,s.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.label})]})]})},t))}),c?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-300 border-t-success-600"}),(0,s.jsx)("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Đang tải kh\xf3a học..."})]}):o&&o.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((e,t)=>{let a=f[e.category]||h.A,r=w[e.category]||w.General;return(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.05*t},whileHover:{y:-8,scale:1.02},className:"group relative p-6 rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg hover:shadow-2xl transition-all cursor-pointer overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br ".concat(r," opacity-0 group-hover:opacity-5 transition-opacity")}),e.is_active&&(0,s.jsx)("div",{className:"absolute top-4 right-4 px-2 py-1 rounded-full bg-success-600 text-white text-xs font-bold",children:"Đang mở"}),(0,s.jsx)("div",{className:"inline-flex p-3 rounded-lg bg-gradient-to-br ".concat(r," mb-4"),children:(0,s.jsx)(a,{className:"w-6 h-6 text-white"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2 group-hover:text-success-600 dark:group-hover:text-success-400 transition-colors",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:e.description||"Kh\xf3a học về m\xf4i trường v\xe0 ph\xe1t triển bền vững"}),(0,s.jsxs)("div",{className:"space-y-2 mb-4",children:[e.duration_weeks&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)(u,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:[e.duration_weeks," tuần"]})]}),e.instructor_name&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)(y.A,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.instructor_name})]}),e.max_participants&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)(p.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Tối đa ",e.max_participants," người"]})]}),e.start_date&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[(0,s.jsx)(v.A,{className:"w-4 h-4"}),(0,s.jsxs)("span",{children:["Bắt đầu: ",new Date(e.start_date).toLocaleDateString("vi-VN")]})]})]}),(0,s.jsx)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-gray-100 dark:bg-gray-700 text-xs font-semibold text-gray-700 dark:text-gray-300",children:e.category||"General"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-success-500 to-green-500 transform scale-x-0 group-hover:scale-x-100 transition-transform origin-left"})]},e.id)})}):(0,s.jsxs)(i.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12",children:[(0,s.jsx)(m.A,{className:"w-16 h-16 text-gray-300 dark:text-gray-700 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"Kh\xf4ng t\xecm thấy kh\xf3a học n\xe0o"}),e||a?(0,s.jsx)("button",{onClick:()=>{t(""),n(null)},className:"mt-4 px-6 py-2 bg-success-600 text-white rounded-lg hover:bg-success-700 transition-colors",children:"X\xf3a bộ lọc"}):null]}),(0,s.jsxs)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-16 p-8 rounded-2xl bg-gradient-to-br from-success-600 via-success-500 to-green-500 text-white text-center",children:[(0,s.jsx)("h2",{className:"text-3xl font-black mb-4",children:"Bạn l\xe0 gi\xe1o vi\xean hoặc chuy\xean gia?"}),(0,s.jsx)("p",{className:"text-lg mb-6 opacity-90",children:"Chia sẻ kiến thức của bạn v\xe0 tạo kh\xf3a học m\xf4i trường cho cộng đồng"}),(0,s.jsx)("button",{className:"px-8 py-4 bg-white text-success-700 rounded-xl font-semibold hover:bg-success-50 transition-colors shadow-xl",children:"Tạo kh\xf3a học mới"})]})]})]})}},87949:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},97037:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(19946).A)("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8274,3758,2960,8441,1684,7358],()=>t(51160)),_N_E=e.O()}]);